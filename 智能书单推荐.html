<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“š æ¯å‘¨æ™ºèƒ½ä¹¦å•æ¨è</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .week-info {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 15px;
        }

        .refresh-btn {
            background: rgba(255, 255, 255, 0.3);
            color: white;
            border: 2px solid white;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .refresh-btn:hover {
            background: white;
            color: #667eea;
            transform: translateY(-2px);
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .tab {
            flex: 1;
            min-width: 150px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            border-radius: 10px;
            transition: all 0.3s;
        }

        .tab:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .tab.active {
            background: white;
            color: #667eea;
        }

        .content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .books-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }

        .book-card {
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            padding: 25px;
            transition: all 0.3s;
            background: linear-gradient(to bottom, #fff 0%, #f8f9fa 100%);
        }

        .book-card:hover {
            border-color: #667eea;
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.25);
            transform: translateY(-5px);
        }

        .book-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 15px;
        }

        .book-category {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .book-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: #333;
            margin: 15px 0 10px;
            line-height: 1.4;
        }

        .book-author {
            color: #666;
            font-size: 1rem;
            margin-bottom: 5px;
        }

        .book-meta {
            font-size: 0.9rem;
            color: #999;
            margin-bottom: 15px;
        }

        .book-summary {
            color: #555;
            line-height: 1.8;
            margin: 15px 0;
            text-align: justify;
        }

        .book-theme {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 12px;
            border-radius: 5px;
            margin: 15px 0;
            font-size: 0.95rem;
            color: #856404;
        }

        .book-theme strong {
            color: #533f03;
        }

        .book-author-bg {
            background: #d1ecf1;
            border-left: 4px solid #17a2b8;
            padding: 12px;
            border-radius: 5px;
            margin: 15px 0;
            font-size: 0.95rem;
            color: #0c5460;
        }

        .book-rating {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 15px 0;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .douban-rating {
            color: #ffc107;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-add {
            background: #28a745;
            color: white;
        }

        .btn-add:hover {
            background: #218838;
            transform: translateY(-2px);
        }

        .btn-added {
            background: #6c757d;
            color: white;
            cursor: not-allowed;
        }

        .reading-section {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px dashed #e0e0e0;
        }

        .progress-section {
            margin: 15px 0;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 8px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #28a745 0%, #20c997 100%);
            transition: width 0.3s;
        }

        .progress-input {
            width: 100%;
        }

        .rating-section {
            margin: 15px 0;
        }

        .rating-stars {
            display: flex;
            gap: 5px;
            font-size: 1.8rem;
            margin-top: 5px;
        }

        .star {
            cursor: pointer;
            color: #ddd;
            transition: color 0.2s;
        }

        .star.filled {
            color: #ffc107;
        }

        .review-section {
            margin: 15px 0;
        }

        .review-textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 0.95rem;
            font-family: inherit;
            resize: vertical;
            min-height: 100px;
            margin-top: 8px;
        }

        .review-textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 12px;
            text-align: center;
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 1rem;
            opacity: 0.9;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #999;
        }

        .empty-state-icon {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        .filter-section {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 8px 16px;
            background: #f0f0f0;
            border: 2px solid transparent;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .filter-btn:hover {
            background: #e0e0e0;
        }

        .filter-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }

            .books-grid {
                grid-template-columns: 1fr;
            }

            .tabs {
                flex-direction: column;
            }

            .tab {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“š æ¯å‘¨æ™ºèƒ½ä¹¦å•æ¨è</h1>
            <div class="week-info">ç¬¬ <span id="currentWeek"></span> å‘¨ - <span id="currentDate"></span></div>
            <button class="refresh-btn" onclick="refreshRecommendations()">ğŸ”„ æ¢ä¸€æ‰¹æ¨è</button>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="switchTab('recommend')">æœ¬å‘¨æ¨è</button>
            <button class="tab" onclick="switchTab('mylist')">æˆ‘çš„ä¹¦å•</button>
            <button class="tab" onclick="switchTab('stats')">é˜…è¯»ç»Ÿè®¡</button>
        </div>

        <div class="content">
            <!-- æœ¬å‘¨æ¨è -->
            <div id="tab-recommend" class="tab-content active">
                <h2 style="margin-bottom: 15px; color: #333;">ä¸ºä½ ç²¾é€‰çš„æœ¬å‘¨ä¹¦å•</h2>
                <p style="color: #666; margin-bottom: 20px;">åŸºäºä½ çš„é˜…è¯»åå¥½ï¼Œä¸ºä½ æ¨èä»¥ä¸‹ä¼˜è´¨ä¹¦ç±</p>

                <div class="filter-section">
                    <button class="filter-btn active" onclick="filterCategory('all')">å…¨éƒ¨</button>
                    <button class="filter-btn" onclick="filterCategory('æ–‡å­¦å°è¯´')">æ–‡å­¦å°è¯´</button>
                    <button class="filter-btn" onclick="filterCategory('å†å²ä¼ è®°')">å†å²ä¼ è®°</button>
                    <button class="filter-btn" onclick="filterCategory('å“²å­¦æ€æƒ³')">å“²å­¦æ€æƒ³</button>
                    <button class="filter-btn" onclick="filterCategory('å¿ƒç†æˆé•¿')">å¿ƒç†æˆé•¿</button>
                    <button class="filter-btn" onclick="filterCategory('ç®¡ç†å­¦')">ç®¡ç†å­¦</button>
                </div>

                <div id="recommendBooks" class="books-grid"></div>
            </div>

            <!-- æˆ‘çš„ä¹¦å• -->
            <div id="tab-mylist" class="tab-content">
                <h2 style="margin-bottom: 20px; color: #333;">æˆ‘çš„é˜…è¯»æ¸…å•</h2>
                <div id="myBooks" class="books-grid"></div>
            </div>

            <!-- é˜…è¯»ç»Ÿè®¡ -->
            <div id="tab-stats" class="tab-content">
                <h2 style="margin-bottom: 20px; color: #333;">é˜…è¯»ç»Ÿè®¡</h2>
                <div class="stats-grid" id="statsGrid"></div>
                <button class="btn" style="background: #667eea; color: white; margin-top: 20px;" onclick="exportData()">ğŸ“¥ å¯¼å‡ºé˜…è¯»æ•°æ®</button>
            </div>
        </div>
    </div>

    <script>
        // ç²¾é€‰ä¸­æ–‡ä¹¦ç±åº“
        const BOOK_DATABASE = [
            // æ–‡å­¦å°è¯´
            {
                title: "æ´»ç€",
                author: "ä½™å",
                category: "æ–‡å­¦å°è¯´",
                publisher: "ä½œå®¶å‡ºç‰ˆç¤¾",
                year: "2012",
                rating: 9.4,
                summary: "ã€Šæ´»ç€ã€‹è®²è¿°äº†ä¸€ä¸ªäººä¸€ç”Ÿçš„æ•…äº‹ï¼Œè¿™æ˜¯ä¸€ä¸ªå†å°½ä¸–é—´æ²§æ¡‘å’Œç£¨éš¾è€äººçš„äººç”Ÿæ„Ÿè¨€ã€‚å°è¯´çš„å™è¿°è€…"æˆ‘"åœ¨å¹´è½»æ—¶è·å¾—äº†ä¸€ä¸ªæ¸¸æ‰‹å¥½é—²çš„èŒä¸šâ€”â€”å»ä¹¡é—´æ”¶é›†æ°‘é—´æ­Œè°£ã€‚åœ¨å¤å¤©åˆšåˆšæ¥åˆ°çš„å­£èŠ‚ï¼Œé‡åˆ°é‚£ä½åå«ç¦è´µçš„è€äººï¼Œå¬ä»–è®²è¿°äº†è‡ªå·±åå·çš„äººç”Ÿç»å†ã€‚",
                theme: "ç”Ÿå‘½çš„éŸ§æ€§ä¸äººæ€§çš„å…‰è¾‰ã€‚é€šè¿‡ç¦è´µä¸€ç”Ÿçš„æ‚²æƒ¨é­é‡ï¼Œå±•ç°äº†æ™®é€šä¸­å›½äººåœ¨æ—¶ä»£å˜è¿ä¸­çš„ç”Ÿå­˜æ™ºæ…§å’Œå¯¹ç”Ÿå‘½çš„æ‰§ç€ã€‚",
                authorBg: "ä½™åï¼Œ1960å¹´ç”Ÿäºæµ™æ±Ÿæ­å·ï¼Œå½“ä»£è‘—åä½œå®¶ã€‚ä½œå“è¢«ç¿»è¯‘æˆ20å¤šç§è¯­è¨€ï¼Œè·å¾—å¤šé¡¹å›½é™…æ–‡å­¦å¥–é¡¹ã€‚"
            },
            {
                title: "ç™¾å¹´å­¤ç‹¬",
                author: "[å“¥ä¼¦æ¯”äºš] åŠ è¥¿äºšÂ·é©¬å°”å…‹æ–¯",
                category: "æ–‡å­¦å°è¯´",
                publisher: "å—æµ·å‡ºç‰ˆå…¬å¸",
                year: "2011",
                rating: 9.3,
                summary: "ã€Šç™¾å¹´å­¤ç‹¬ã€‹æ˜¯é­”å¹»ç°å®ä¸»ä¹‰æ–‡å­¦çš„ä»£è¡¨ä½œï¼Œæå†™äº†å¸ƒæ©è¿ªäºšå®¶æ—ä¸ƒä»£äººçš„ä¼ å¥‡æ•…äº‹ï¼Œä»¥åŠåŠ å‹’æ¯”æµ·æ²¿å²¸å°é•‡é©¬å­”å¤šçš„ç™¾å¹´å…´è¡°ï¼Œåæ˜ äº†æ‹‰ä¸ç¾æ´²ä¸€ä¸ªä¸–çºªä»¥æ¥é£äº‘å˜å¹»çš„å†å²ã€‚",
                theme: "å­¤ç‹¬æ˜¯äººç±»æ°¸æ’çš„å‘½é¢˜ã€‚é€šè¿‡å¸ƒæ©è¿ªäºšå®¶æ—çš„å…´è¡°ï¼Œæ¢è®¨å­¤ç‹¬ã€æ—¶é—´å¾ªç¯ã€å‘½è¿ç­‰æ·±åˆ»ä¸»é¢˜ï¼Œå±•ç°æ‹‰ç¾å†å²ä¸æ–‡åŒ–ã€‚",
                authorBg: "åŠ è¥¿äºšÂ·é©¬å°”å…‹æ–¯ï¼Œè¯ºè´å°”æ–‡å­¦å¥–å¾—ä¸»ï¼Œé­”å¹»ç°å®ä¸»ä¹‰æ–‡å­¦ä»£è¡¨äººç‰©ï¼Œè¢«èª‰ä¸º20ä¸–çºªæœ€ä¼Ÿå¤§çš„ä½œå®¶ä¹‹ä¸€ã€‚"
            },
            {
                title: "å¹³å‡¡çš„ä¸–ç•Œ",
                author: "è·¯é¥",
                category: "æ–‡å­¦å°è¯´",
                publisher: "åŒ—äº¬åæœˆæ–‡è‰ºå‡ºç‰ˆç¤¾",
                year: "2013",
                rating: 9.2,
                summary: "è¿™æ˜¯ä¸€éƒ¨å…¨æ™¯å¼åœ°è¡¨ç°ä¸­å›½å½“ä»£åŸä¹¡ç¤¾ä¼šç”Ÿæ´»çš„é•¿ç¯‡å°è¯´ã€‚å…¨ä¹¦å…±ä¸‰éƒ¨ï¼Œä½œè€…åœ¨è¿‘åå¹´é—´å¹¿é˜”èƒŒæ™¯ä¸Šï¼Œé€šè¿‡å¤æ‚çš„çŸ›ç›¾çº è‘›ï¼Œåˆ»ç”»äº†ç¤¾ä¼šå„é˜¶å±‚ä¼—å¤šæ™®é€šäººçš„å½¢è±¡ã€‚",
                theme: "å¥‹æ–—ä¸å°Šä¸¥ã€‚åœ¨å¹³å‡¡çš„ä¸–ç•Œé‡Œï¼Œå¹³å‡¡çš„äººä»¥ä¸å¹³å‡¡çš„æ–¹å¼è¿½æ±‚è‡ªå·±çš„äººç”Ÿä»·å€¼ï¼Œå±•ç°äº†æ™®é€šåŠ³åŠ¨è€…çš„å¥‹æ–—ç²¾ç¥ã€‚",
                authorBg: "è·¯é¥ï¼ˆ1949-1992ï¼‰ï¼Œé™•è¥¿ä½œå®¶ï¼Œä»¥ã€Šå¹³å‡¡çš„ä¸–ç•Œã€‹è·å¾—ç¬¬ä¸‰å±ŠèŒ…ç›¾æ–‡å­¦å¥–ã€‚ä½œå“æ·±åˆ»åæ˜ äº†ä¸­å›½å†œæ‘çš„å˜é©ã€‚"
            },
            {
                title: "ä¸‰ä½“",
                author: "åˆ˜æ…ˆæ¬£",
                category: "æ–‡å­¦å°è¯´",
                publisher: "é‡åº†å‡ºç‰ˆç¤¾",
                year: "2008",
                rating: 9.3,
                summary: "åœ°çƒæ–‡æ˜å‘å®‡å®™å‘å‡ºçš„ç¬¬ä¸€å£°å•¼é¸£è¢«ä¸‰ä½“æ–‡æ˜æ¥æ”¶ã€‚åœ¨è¿ç”¨è¶…æŠ€æœ¯é”æ­»åœ°çƒäººçš„åŸºç¡€ç§‘å­¦ä¹‹åï¼Œä¸‰ä½“äººåºå¤§çš„å®‡å®™èˆ°é˜Ÿå¼€å§‹å‘åœ°çƒè¿›å‘ã€‚é¢å¯¹å‰æ‰€æœªæœ‰çš„å±æœºï¼Œäººç±»å±•å¼€äº†ç»åœ°åå‡»ã€‚",
                theme: "æ–‡æ˜çš„è¿›åŒ–ä¸ç”Ÿå­˜æ³•åˆ™ã€‚æ¢è®¨å®‡å®™ç¤¾ä¼šå­¦ã€é»‘æš—æ£®æ—æ³•åˆ™ç­‰æ·±åˆ»å‘½é¢˜ï¼Œå±•ç°äººç±»æ–‡æ˜åœ¨å®‡å®™å°ºåº¦ä¸‹çš„æ€è€ƒã€‚",
                authorBg: "åˆ˜æ…ˆæ¬£ï¼Œä¸­å›½ç§‘å¹»æ–‡å­¦ä»£è¡¨ä½œå®¶ï¼Œäºšæ´²é¦–ä½é›¨æœå¥–å¾—ä¸»ï¼Œè¢«èª‰ä¸º'ä¸­å›½ç§‘å¹»ç¬¬ä¸€äºº'ã€‚"
            },
            {
                title: "çº¢æ¥¼æ¢¦",
                author: "æ›¹é›ªèŠ¹",
                category: "æ–‡å­¦å°è¯´",
                publisher: "äººæ°‘æ–‡å­¦å‡ºç‰ˆç¤¾",
                year: "2008",
                rating: 9.7,
                summary: "ã€Šçº¢æ¥¼æ¢¦ã€‹æ˜¯ä¸€éƒ¨å…·æœ‰ä¸–ç•Œå½±å“åŠ›çš„äººæƒ…å°è¯´ï¼Œä¸¾ä¸–å…¬è®¤çš„ä¸­å›½å¤å…¸å°è¯´å·…å³°ä¹‹ä½œã€‚å°è¯´ä»¥è´¾ã€å²ã€ç‹ã€è–›å››å¤§å®¶æ—çš„å…´è¡°ä¸ºèƒŒæ™¯ï¼Œä»¥è´¾å®ç‰ã€æ—é»›ç‰ã€è–›å®é’—çš„çˆ±æƒ…å©šå§»æ‚²å‰§ä¸ºä¸»çº¿ã€‚",
                theme: "äººæ€§çš„å¤æ‚ä¸ç¤¾ä¼šçš„å˜è¿ã€‚é€šè¿‡å¤§è§‚å›­çš„å…´è¡°ï¼Œå±•ç°å°å»ºç¤¾ä¼šçš„æ²¡è½å’Œäººæ€§çš„å¤šé¢æ€§ï¼Œæ˜¯ä¸­å›½æ–‡å­¦çš„å·…å³°ä¹‹ä½œã€‚",
                authorBg: "æ›¹é›ªèŠ¹ï¼ˆçº¦1715-1763ï¼‰ï¼Œæ¸…ä»£å°è¯´å®¶ï¼Œã€Šçº¢æ¥¼æ¢¦ã€‹ä½œè€…ã€‚å‡ºèº«æ˜¾èµ«ä½†å®¶é“ä¸­è½ï¼Œæ™šå¹´è´«å›°æ½¦å€’ï¼Œå‘•å¿ƒæ²¥è¡€åˆ›ä½œæ­¤ä¹¦ã€‚"
            },

            // å†å²ä¼ è®°
            {
                title: "äººç±»ç®€å²",
                author: "[ä»¥è‰²åˆ—] å°¤ç“¦å°”Â·èµ«æ‹‰åˆ©",
                category: "å†å²ä¼ è®°",
                publisher: "ä¸­ä¿¡å‡ºç‰ˆç¤¾",
                year: "2014",
                rating: 9.1,
                summary: "ã€Šäººç±»ç®€å²ã€‹ä»åä¸‡å¹´å‰æœ‰ç”Ÿå‘½è¿¹è±¡å¼€å§‹åˆ°21ä¸–çºªèµ„æœ¬ã€ç§‘æŠ€äº¤ç»‡çš„äººç±»å‘å±•å²ã€‚åä¸‡å¹´å‰ï¼Œåœ°çƒä¸Šè‡³å°‘æœ‰å…­ä¸ªäººç§ï¼Œä¸ºä½•ä»Šå¤©åªå‰©ä¸‹æˆ‘ä»¬è¿™ä¸€æ”¯ï¼Ÿè®¤çŸ¥é©å‘½ã€å†œä¸šé©å‘½ã€ç§‘å­¦é©å‘½å¦‚ä½•æ”¹å˜äººç±»çš„å‘½è¿ï¼Ÿ",
                theme: "äººç±»å‘å±•çš„ä¸‰æ¬¡é©å‘½ã€‚ä»è®¤çŸ¥é©å‘½åˆ°ç§‘æŠ€é©å‘½ï¼Œæ¢è®¨äººç±»å¦‚ä½•ä»éæ´²èµ°å‘ä¸–ç•Œï¼Œä»ç‹©çŒé‡‡é›†åˆ°å»ºç«‹å¸å›½å’Œä¿¡ä»°ä½“ç³»ã€‚",
                authorBg: "å°¤ç“¦å°”Â·èµ«æ‹‰åˆ©ï¼Œç‰›æ´¥å¤§å­¦å†å²å­¦åšå£«ï¼Œè€¶è·¯æ’’å†·å¸Œä¼¯æ¥å¤§å­¦å†å²ç³»æ•™æˆï¼Œå…¨çƒç©ç›®çš„æ–°é”å†å²å­¦å®¶ã€‚"
            },
            {
                title: "ä¸‡å†åäº”å¹´",
                author: "é»„ä»å®‡",
                category: "å†å²ä¼ è®°",
                publisher: "ç”Ÿæ´»Â·è¯»ä¹¦Â·æ–°çŸ¥ä¸‰è”ä¹¦åº—",
                year: "2007",
                rating: 9.0,
                summary: "ä¸‡å†åäº”å¹´ï¼Œäº¦å³å…¬å…ƒ1587å¹´ï¼Œåœ¨è¥¿æ¬§å†å²ä¸Šä¸ºè¥¿ç­ç‰™èˆ°é˜Ÿå…¨éƒ¨å‡ºåŠ¨å¾è‹±çš„å‰ä¸€å¹´ã€‚åœ¨ä¸­å›½ï¼Œè¿™å¹³å¹³æ·¡æ·¡çš„ä¸€å¹´ä¸­ï¼Œå‘ç”Ÿäº†è‹¥å¹²ä¸ºå†å²å­¦å®¶æ‰€æ˜“äºå¿½è§†çš„äº‹ä»¶ã€‚",
                theme: "ä»¥å°è§å¤§çš„å†å²è§‚ã€‚é€šè¿‡1587å¹´çœ‹ä¼¼å¹³å¸¸çš„äº‹ä»¶ï¼Œæ­ç¤ºæ˜æœæ”¿æ²»ä½“åˆ¶çš„æ·±å±‚çŸ›ç›¾å’Œä¸­å›½ä¼ ç»Ÿç¤¾ä¼šçš„å›°å¢ƒã€‚",
                authorBg: "é»„ä»å®‡ï¼ˆ1918-2000ï¼‰ï¼Œå†å²å­¦å®¶ï¼Œæå‡º'å¤§å†å²è§‚'ï¼Œä¸»å¼ ä»æŠ€æœ¯ã€åˆ¶åº¦ã€æ–‡åŒ–çš„è§’åº¦ç ”ç©¶å†å²ã€‚"
            },
            {
                title: "è‹ä¸œå¡ä¼ ",
                author: "æ—è¯­å ‚",
                category: "å†å²ä¼ è®°",
                publisher: "æ¹–å—æ–‡è‰ºå‡ºç‰ˆç¤¾",
                year: "2014",
                rating: 8.9,
                summary: "ã€Šè‹ä¸œå¡ä¼ ã€‹æ˜¯æ—è¯­å ‚æœ€å¾—æ„çš„ä½œå“ï¼Œä¸­å›½æ–‡äººä»æ”¿çš„æ ‡æœ¬ï¼Œè‹ä¸œå¡çš„ä¸€ç”Ÿè·Œå®•èµ·ä¼ã€æ³¢æ¾œå£®é˜”ã€‚ä»–æ—¢æ˜¯æ–‡å­¦å®¶ã€è‰ºæœ¯å®¶ï¼Œåˆæ˜¯ç¾é£Ÿå®¶ã€å·¥ç¨‹å¸ˆã€‚æ—è¯­å ‚ç”¨å¹½é»˜çš„ç¬”è°ƒï¼Œä¸ºæˆ‘ä»¬è¿˜åŸäº†ä¸€ä¸ªçœŸå®çš„è‹ä¸œå¡ã€‚",
                theme: "ä¸­å›½æ–‡äººçš„ç†æƒ³äººæ ¼ã€‚å±•ç°è‹ä¸œå¡ä¹è§‚è±è¾¾ã€æ‰åæ¨ªæº¢çš„ä¸€ç”Ÿï¼Œè¯ é‡Šäº†ä¸­å›½ä¼ ç»Ÿæ–‡äººçš„ç²¾ç¥å¢ƒç•Œã€‚",
                authorBg: "æ—è¯­å ‚ï¼ˆ1895-1976ï¼‰ï¼Œè‘—åä½œå®¶ã€è¯­è¨€å­¦å®¶ï¼Œå‘è¥¿æ–¹ä»‹ç»ä¸­å›½æ–‡åŒ–çš„é‡è¦äººç‰©ï¼Œæ›¾è·è¯ºè´å°”æ–‡å­¦å¥–æåã€‚"
            },
            {
                title: "é‚“å°å¹³æ—¶ä»£",
                author: "[ç¾] å‚…é«˜ä¹‰",
                category: "å†å²ä¼ è®°",
                publisher: "ç”Ÿæ´»Â·è¯»ä¹¦Â·æ–°çŸ¥ä¸‰è”ä¹¦åº—",
                year: "2013",
                rating: 9.0,
                summary: "é‚“å°å¹³æ·±åˆ»å½±å“äº†ä¸­å›½å†å²å’Œä¸–ç•Œå†å²çš„èµ°å‘ï¼Œä¹Ÿæ”¹å˜äº†æ¯ä¸€ä¸ªå½“ä»£ä¸­å›½äººçš„å‘½è¿ã€‚æœ¬ä¹¦å¯¹é‚“å°å¹³ä¸ªäººæ€§æ ¼åŠæ‰§æ”¿é£æ ¼è¿›è¡Œäº†æ·±å±‚åˆ†æï¼Œå¹¶å¯¹ä¸­å›½æ”¹é©å¼€æ”¾å²è¿›è¡Œäº†å®Œæ•´è€Œç‹¬åˆ°çš„é˜é‡Šã€‚",
                theme: "æ”¹é©å¼€æ”¾çš„å†å²è¿›ç¨‹ã€‚å…¨é¢è®°å½•é‚“å°å¹³å¦‚ä½•å¸¦é¢†ä¸­å›½è¿›è¡Œæ”¹é©å¼€æ”¾ï¼Œä»¥åŠè¿™ä¸€å†³ç­–å¯¹ä¸­å›½å’Œä¸–ç•Œçš„æ·±è¿œå½±å“ã€‚",
                authorBg: "å‚…é«˜ä¹‰ï¼Œå“ˆä½›å¤§å­¦æ•™æˆï¼Œè‘—åä¸­å›½é—®é¢˜ä¸“å®¶ï¼Œç ”ç©¶ä¸œäºšé—®é¢˜è¶…è¿‡åŠä¸ªä¸–çºªï¼Œè¢«èª‰ä¸º'ä¸­å›½å…ˆç”Ÿ'ã€‚"
            },
            {
                title: "å²è®°",
                author: "å¸é©¬è¿",
                category: "å†å²ä¼ è®°",
                publisher: "ä¸­åä¹¦å±€",
                year: "2014",
                rating: 9.6,
                summary: "ã€Šå²è®°ã€‹æ˜¯è¥¿æ±‰è‘—åå²å­¦å®¶å¸é©¬è¿æ’°å†™çš„ä¸€éƒ¨çºªä¼ ä½“å²ä¹¦ï¼Œæ˜¯ä¸­å›½å†å²ä¸Šç¬¬ä¸€éƒ¨çºªä¼ ä½“é€šå²ï¼Œè¢«åˆ—ä¸º'äºŒåå››å²'ä¹‹é¦–ã€‚è®°è½½äº†ä¸Šè‡³ä¸Šå¤ä¼ è¯´ä¸­çš„é»„å¸æ—¶ä»£ï¼Œä¸‹è‡³æ±‰æ­¦å¸å¤ªåˆå››å¹´é—´å…±3000å¤šå¹´çš„å†å²ã€‚",
                theme: "ä¸­å›½å²å­¦çš„å¼€å±±ä¹‹ä½œã€‚ä»¥äººç‰©ä¼ è®°ä¸ºä¸­å¿ƒï¼Œå±•ç°äº†ä¸­åæ–‡æ˜çš„èµ·æºä¸å‘å±•ï¼Œæ ‘ç«‹äº†å²å­¦è‘—ä½œçš„å…¸èŒƒã€‚",
                authorBg: "å¸é©¬è¿ï¼ˆçº¦å‰145-å‰90ï¼‰ï¼Œè¥¿æ±‰å²å­¦å®¶ã€æ•£æ–‡å®¶ã€‚å› æé™µäº‹ä»¶å—å®«åˆ‘ï¼Œå¿è¾±è´Ÿé‡å®Œæˆã€Šå²è®°ã€‹ï¼Œæˆå°±åƒå¤åè‘—ã€‚"
            },

            // å“²å­¦æ€æƒ³
            {
                title: "è‹è²çš„ä¸–ç•Œ",
                author: "[æŒªå¨] ä¹”æ–¯å¦Â·è´¾å¾·",
                category: "å“²å­¦æ€æƒ³",
                publisher: "ä½œå®¶å‡ºç‰ˆç¤¾",
                year: "2007",
                rating: 8.9,
                summary: "ã€Šè‹è²çš„ä¸–ç•Œã€‹ä»¥å°è¯´çš„å½¢å¼ï¼Œé€šè¿‡ä¸€åå“²å­¦å¯¼å¸ˆå‘ä¸€ä¸ªå«è‹è²çš„å¥³å­©ä¼ æˆå“²å­¦çŸ¥è¯†çš„ç»è¿‡ï¼Œæ­ç¤ºäº†è¥¿æ–¹å“²å­¦å²å‘å±•çš„å†ç¨‹ã€‚æ˜¯æœ€å¥½çš„å“²å­¦å…¥é—¨ä¹¦ã€‚",
                theme: "å“²å­¦å¯è’™ä¹‹æ—…ã€‚ä»å¤å¸Œè…Šåˆ°åº·å¾·ï¼Œä»ç¬›å¡å°”åˆ°é©¬å…‹æ€ï¼Œç”¨é€šä¿—æ˜“æ‡‚çš„æ–¹å¼ä»‹ç»è¥¿æ–¹å“²å­¦å‘å±•å²ã€‚",
                authorBg: "ä¹”æ–¯å¦Â·è´¾å¾·ï¼ŒæŒªå¨ä½œå®¶ï¼Œæ“…é•¿ä»¥æ·±å…¥æµ…å‡ºçš„æ–¹å¼æ¢è®¨å“²å­¦é—®é¢˜ï¼Œã€Šè‹è²çš„ä¸–ç•Œã€‹å·²è¢«ç¿»è¯‘æˆ64ç§è¯­è¨€ã€‚"
            },
            {
                title: "äººç”Ÿçš„æ™ºæ…§",
                author: "[å¾·] å”æœ¬å",
                category: "å“²å­¦æ€æƒ³",
                publisher: "ä¸Šæµ·äººæ°‘å‡ºç‰ˆç¤¾",
                year: "2014",
                rating: 8.8,
                summary: "å”æœ¬åçš„è¿™æœ¬ã€Šäººç”Ÿçš„æ™ºæ…§ã€‹æ¢è®¨çš„æ˜¯å¦‚ä½•å°½é‡å¹¸ç¦ã€æ„‰å¿«åœ°åº¦è¿‡ä¸€ç”Ÿã€‚ä»–ä»ä¸–ä¿—è§’åº¦æ¢è®¨äº†äººç”Ÿæ™ºæ…§ï¼Œæ¶‰åŠè´¢äº§ã€åœ°ä½ã€è£èª‰ã€åå£°ã€äººé™…å…³ç³»ç­‰å†…å®¹ã€‚",
                theme: "è¿½æ±‚å¹¸ç¦çš„æ™ºæ…§ã€‚ä»æ‚²è§‚ä¸»ä¹‰å‡ºå‘ï¼Œæ¢è®¨å¦‚ä½•åœ¨å……æ»¡ç—›è‹¦çš„ä¸–ç•Œä¸­å¯»æ‰¾å¹¸ç¦å’Œæ»¡è¶³ã€‚",
                authorBg: "å”æœ¬åï¼ˆ1788-1860ï¼‰ï¼Œå¾·å›½å“²å­¦å®¶ï¼Œå”¯æ„å¿—è®ºä¸»è¦ä»£è¡¨ï¼Œå¯¹å°¼é‡‡ã€å¼—æ´›ä¼Šå¾·ç­‰æ€æƒ³å®¶äº§ç”Ÿæ·±è¿œå½±å“ã€‚"
            },
            {
                title: "æ²‰æ€å½•",
                author: "[å¤ç½—é©¬] é©¬å¯Â·å¥¥å‹’ç•™",
                category: "å“²å­¦æ€æƒ³",
                publisher: "ä¸­å¤®ç¼–è¯‘å‡ºç‰ˆç¤¾",
                year: "2008",
                rating: 8.7,
                summary: "ã€Šæ²‰æ€å½•ã€‹æ˜¯å¤ç½—é©¬å“²å­¦å®¶çš‡å¸é©¬å¯Â·å¥¥å‹’ç•™æ‰€è‘—ï¼Œæ˜¯ä¸€æœ¬å†™ç»™è‡ªå·±çš„ä¹¦ï¼Œå†…å®¹å¤§éƒ¨åˆ†æ˜¯ä»–åœ¨éé©¬åŠ³é¡¿ä¸­å†™æˆçš„ã€‚ä½œå“æ¥è‡ªä½œè€…å¯¹èº«ç¾å®«å»·çš„è‡ªå·±å’Œè‡ªå·±æ‰€å¤„æ··ä¹±ä¸–ç•Œçš„æ„Ÿå—ã€‚",
                theme: "æ–¯å¤šè‘›ä¸»ä¹‰çš„è·µè¡Œã€‚æ•™å¯¼äººå¦‚ä½•é¢å¯¹å›°å¢ƒã€æ§åˆ¶æƒ…ç»ªã€ä¿æŒç†æ€§ï¼Œè¿½æ±‚å†…å¿ƒçš„å®é™å’Œè‡ªç”±ã€‚",
                authorBg: "é©¬å¯Â·å¥¥å‹’ç•™ï¼ˆ121-180ï¼‰ï¼Œå¤ç½—é©¬çš‡å¸ï¼Œæ–¯å¤šè‘›æ´¾å“²å­¦å®¶ï¼Œè¢«èª‰ä¸º'å“²å­¦å®¶çš‡å¸'ã€‚"
            },
            {
                title: "é“å¾·ç»",
                author: "è€å­",
                category: "å“²å­¦æ€æƒ³",
                publisher: "ä¸­åä¹¦å±€",
                year: "2015",
                rating: 9.5,
                summary: "ã€Šé“å¾·ç»ã€‹ï¼Œåˆç§°ã€Šè€å­ã€‹ï¼Œæ˜¯ä¸­å›½å¤ä»£å…ˆç§¦è¯¸å­åˆ†å®¶å‰çš„ä¸€éƒ¨è‘—ä½œï¼Œä¸ºå…¶æ—¶è¯¸å­æ‰€å…±ä»°ã€‚å…¨ä¹¦å…±81ç« ï¼Œå‰37ç« ä¸ºä¸Šç¯‡é“ç»ï¼Œç¬¬38ç« ä»¥ä¸‹å±ä¸‹ç¯‡å¾·ç»ã€‚",
                theme: "é“å®¶æ€æƒ³çš„æ ¸å¿ƒç»å…¸ã€‚é˜è¿°'é“'çš„æ¦‚å¿µï¼Œä¸»å¼ æ— ä¸ºè€Œæ²»ã€é¡ºåº”è‡ªç„¶ï¼Œå¯¹ä¸­å›½å“²å­¦å’Œæ–‡åŒ–äº§ç”Ÿæ·±è¿œå½±å“ã€‚",
                authorBg: "è€å­ï¼Œæ˜¥ç§‹æ—¶æœŸæ€æƒ³å®¶ï¼Œé“å®¶å­¦æ´¾åˆ›å§‹äººï¼Œä¸­å›½å“²å­¦å²ä¸Šæœ€é‡è¦çš„æ€æƒ³å®¶ä¹‹ä¸€ã€‚"
            },
            {
                title: "ç†æƒ³å›½",
                author: "[å¤å¸Œè…Š] æŸæ‹‰å›¾",
                category: "å“²å­¦æ€æƒ³",
                publisher: "å•†åŠ¡å°ä¹¦é¦†",
                year: "2013",
                rating: 8.9,
                summary: "ã€Šç†æƒ³å›½ã€‹æ˜¯å¤å¸Œè…Šå“²å­¦å®¶æŸæ‹‰å›¾åˆ›ä½œçš„å“²å­¦å¯¹è¯ä½“è‘—ä½œã€‚å…¨ä¹¦ä¸»è¦è®¨è®ºäº†æ­£ä¹‰ä¸éæ­£ä¹‰é—®é¢˜ï¼Œå¹¶ä»¥æ­¤ä¸ºåŸºç¡€ï¼Œè¯¦ç»†è®¨è®ºäº†ç†æƒ³å›½å®¶å’Œç†æƒ³äººçš„æœ¬è´¨ã€æ ‡å‡†åŠå…¶å®ç°é€”å¾„ç­‰é—®é¢˜ã€‚",
                theme: "æ”¿æ²»å“²å­¦çš„å¥ åŸºä¹‹ä½œã€‚æ¢è®¨æ­£ä¹‰çš„æœ¬è´¨ã€ç†æƒ³å›½å®¶çš„æ„å»ºã€å“²å­¦ç‹çš„æ¦‚å¿µï¼Œå¥ å®šäº†è¥¿æ–¹æ”¿æ²»å“²å­¦çš„åŸºç¡€ã€‚",
                authorBg: "æŸæ‹‰å›¾ï¼ˆå‰427-å‰347ï¼‰ï¼Œå¤å¸Œè…Šå“²å­¦å®¶ï¼Œè‹æ ¼æ‹‰åº•å­¦ç”Ÿï¼Œäºšé‡Œå£«å¤šå¾·è€å¸ˆï¼Œè¥¿æ–¹å“²å­¦çš„å¥ åŸºè€…ä¹‹ä¸€ã€‚"
            },

            // å¿ƒç†æˆé•¿
            {
                title: "è¢«è®¨åŒçš„å‹‡æ°”",
                author: "[æ—¥] å²¸è§ä¸€éƒ / å¤è´ºå²å¥",
                category: "å¿ƒç†æˆé•¿",
                publisher: "æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾",
                year: "2015",
                rating: 8.6,
                summary: "ã€Œè¢«è®¨åŒçš„å‹‡æ°”ã€å¹¶ä¸æ˜¯è¦å»å¸å¼•è¢«è®¨åŒçš„è´Ÿå‘èƒ½é‡ï¼Œè€Œæ˜¯ï¼Œå¦‚æœè¿™æ˜¯æˆ‘ç”Ÿå‘½æƒ³ç»½æ”¾å‡ºæœ€ç¾çš„å…‰å½©ï¼Œé‚£ä¹ˆï¼Œå³ä½¿æœ‰è¢«è®¨åŒçš„å¯èƒ½ï¼Œæˆ‘éƒ½è¦ç”¨è‡ªå·±çš„åŒæ‰‹åŒè„šå¾€é‚£é‡Œèµ°å»ã€‚ã€",
                theme: "é˜¿å¾·å‹’å¿ƒç†å­¦çš„å®è·µã€‚æ•™å¯¼äººä»¬å¦‚ä½•æ‘†è„±ä»–äººæœŸå¾…çš„æŸç¼šï¼Œå‹‡æ•¢åšè‡ªå·±ï¼Œè·å¾—çœŸæ­£çš„è‡ªç”±å’Œå¹¸ç¦ã€‚",
                authorBg: "å²¸è§ä¸€éƒï¼Œæ—¥æœ¬å“²å­¦å®¶ï¼Œä¸“æ”»é˜¿å¾·å‹’å¿ƒç†å­¦ã€‚å¤è´ºå²å¥ï¼Œè‡ªç”±ä½œå®¶ï¼Œæ“…é•¿å¯¹è¯ä½“å†™ä½œã€‚"
            },
            {
                title: "åŸç”Ÿå®¶åº­",
                author: "[ç¾] è‹çŠÂ·ç¦æ²ƒå¾·",
                category: "å¿ƒç†æˆé•¿",
                publisher: "åŒ—äº¬æ—¶ä»£åæ–‡ä¹¦å±€",
                year: "2018",
                rating: 8.4,
                summary: "æœ¬ä¹¦é€šè¿‡æ¡ˆä¾‹åˆ†ææŒ‡å‡ºåŸç”Ÿå®¶åº­çš„ä¼¤å®³ï¼Œå¹¶ç»™å‡ºå…·ä½“çš„æ–¹æ³•å¸®åŠ©äººä»¬ç–—æ„ˆç«¥å¹´åˆ›ä¼¤ï¼Œæ‘†è„±åŸç”Ÿå®¶åº­çš„è´Ÿé¢å½±å“ï¼Œæ‰¾å›çœŸå®çš„è‡ªæˆ‘ã€‚",
                theme: "ç–—æ„ˆåŸç”Ÿå®¶åº­åˆ›ä¼¤ã€‚åˆ†æåŸç”Ÿå®¶åº­å¯¹ä¸ªäººçš„æ·±è¿œå½±å“ï¼Œæä¾›å®ç”¨çš„ç–—æ„ˆæ–¹æ³•ï¼Œå¸®åŠ©äººä»¬è·å¾—å¿ƒç†è‡ªç”±ã€‚",
                authorBg: "è‹çŠÂ·ç¦æ²ƒå¾·ï¼Œå›½é™…çŸ¥åå¿ƒç†æ²»ç–—å¸ˆã€æ¼”è¯´å®¶ï¼Œåœ¨å®¶åº­å…³ç³»æ²»ç–—é¢†åŸŸæœ‰40å¤šå¹´ä¸´åºŠç»éªŒã€‚"
            },
            {
                title: "è‡ªå‘ä¸è¶…è¶Š",
                author: "[å¥¥] é˜¿å°”å¼—é›·å¾·Â·é˜¿å¾·å‹’",
                category: "å¿ƒç†æˆé•¿",
                publisher: "ä½œå®¶å‡ºç‰ˆç¤¾",
                year: "2017",
                rating: 8.5,
                summary: "ã€Šè‡ªå‘ä¸è¶…è¶Šã€‹æ˜¯é˜¿å¾·å‹’çš„åæœŸä»£è¡¨ä½œï¼Œæ¢è®¨äº†è‡ªå‘æ„Ÿçš„å½¢æˆåŠå…¶å¯¹ä¸ªäººçš„å½±å“ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡å»ºç«‹æ­£ç¡®çš„ç”Ÿæ´»ç›®æ ‡å’Œæ”¹å–„äººé™…å…³ç³»æ¥è¶…è¶Šè‡ªå‘ã€‚",
                theme: "ä¸ªä½“å¿ƒç†å­¦çš„ç»å…¸ã€‚æ­ç¤ºè‡ªå‘æ„Ÿçš„æ™®éæ€§ï¼ŒæŒ‡å¯¼äººä»¬å¦‚ä½•å°†è‡ªå‘è½¬åŒ–ä¸ºè¿›æ­¥çš„åŠ¨åŠ›ï¼Œè¿½æ±‚ä¼˜è¶Šæ„Ÿã€‚",
                authorBg: "é˜¿å¾·å‹’ï¼ˆ1870-1937ï¼‰ï¼Œå¥¥åœ°åˆ©ç²¾ç¥ç—…å­¦å®¶ï¼Œä¸ªä½“å¿ƒç†å­¦åˆ›å§‹äººï¼Œä¸å¼—æ´›ä¼Šå¾·ã€è£æ ¼å¹¶ç§°å¿ƒç†å­¦ä¸‰å·¨å¤´ã€‚"
            },
            {
                title: "å¿ƒæµ",
                author: "[ç¾] ç±³å“ˆé‡ŒÂ·å¥‘å…‹æ£®ç±³å“ˆèµ–",
                category: "å¿ƒç†æˆé•¿",
                publisher: "ä¸­ä¿¡å‡ºç‰ˆç¤¾",
                year: "2017",
                rating: 8.3,
                summary: "å¿ƒæµæ˜¯æŒ‡æˆ‘ä»¬åœ¨åšæŸäº›äº‹æƒ…æ—¶ï¼Œé‚£ç§å…¨ç¥è´¯æ³¨ã€æŠ•å…¥å¿˜æˆ‘çš„çŠ¶æ€ã€‚åœ¨è¿™ç§çŠ¶æ€ä¸‹ï¼Œä½ ç”šè‡³æ„Ÿè§‰ä¸åˆ°æ—¶é—´çš„å­˜åœ¨ï¼Œåœ¨è¿™ä»¶äº‹æƒ…å®Œæˆä¹‹åæˆ‘ä»¬ä¼šæœ‰ä¸€ç§å……æ»¡èƒ½é‡å¹¶ä¸”éå¸¸æ»¡è¶³çš„æ„Ÿå—ã€‚",
                theme: "æœ€ä¼˜ä½“éªŒçš„å¿ƒç†å­¦ã€‚æ¢è®¨å¦‚ä½•é€šè¿‡è¿›å…¥å¿ƒæµçŠ¶æ€è·å¾—å¹¸ç¦æ„Ÿå’Œæˆå°±æ„Ÿï¼Œæå‡ç”Ÿæ´»è´¨é‡ã€‚",
                authorBg: "ç±³å“ˆé‡Œï¼Œç§¯æå¿ƒç†å­¦å¥ åŸºäººä¹‹ä¸€ï¼ŒèŠåŠ å“¥å¤§å­¦å¿ƒç†å­¦æ•™æˆï¼Œ'å¿ƒæµ'ç†è®ºæå‡ºè€…ã€‚"
            },
            {
                title: "æƒ…å•†",
                author: "[ç¾] ä¸¹å°¼å°”Â·æˆˆå°”æ›¼",
                category: "å¿ƒç†æˆé•¿",
                publisher: "ä¸­ä¿¡å‡ºç‰ˆç¤¾",
                year: "2010",
                rating: 8.2,
                summary: "ã€Šæƒ…å•†ã€‹æ˜¯ä¸€æœ¬å°†å¿ƒç†å­¦ç ”ç©¶è½¬åŒ–ä¸ºæ™®é€šè¯»è€…å¯ä»¥ç†è§£å’Œåº”ç”¨çš„è‘—ä½œã€‚ä½œè€…æŒ‡å‡ºï¼Œæƒ…å•†åŒ…æ‹¬äº†è§£è‡ªèº«æƒ…æ„Ÿã€ç®¡ç†æƒ…ç»ªã€è‡ªæˆ‘æ¿€åŠ±ã€è¯†åˆ«ä»–äººæƒ…ç»ªä»¥åŠå¤„ç†äººé™…å…³ç³»äº”ä¸ªæ–¹é¢ã€‚",
                theme: "æƒ…ç»ªæ™ºåŠ›çš„é‡è¦æ€§ã€‚è®ºè¯æƒ…å•†æ¯”æ™ºå•†æ›´é‡è¦ï¼Œæ•™å¯¼äººä»¬å¦‚ä½•æé«˜æƒ…å•†ï¼Œæ”¹å–„äººé™…å…³ç³»å’Œç”Ÿæ´»è´¨é‡ã€‚",
                authorBg: "ä¸¹å°¼å°”Â·æˆˆå°”æ›¼ï¼Œå“ˆä½›å¤§å­¦å¿ƒç†å­¦åšå£«ï¼Œè‘—åå¿ƒç†å­¦å®¶ï¼Œå°†'æƒ…å•†'æ¦‚å¿µæ¨å¹¿åˆ°å…¨ä¸–ç•Œã€‚"
            },

            // ç®¡ç†å­¦
            {
                title: "ä»ä¼˜ç§€åˆ°å“è¶Š",
                author: "[ç¾] å‰å§†Â·æŸ¯æ—æ–¯",
                category: "ç®¡ç†å­¦",
                publisher: "ä¸­ä¿¡å‡ºç‰ˆç¤¾",
                year: "2009",
                rating: 8.6,
                summary: "æŸ¯æ—æ–¯å†ç»5å¹´çš„ç ”ç©¶ï¼Œå‘ç°äº†ä»ä¼˜ç§€å…¬å¸åˆ°å“è¶Šå…¬å¸çš„è½¬å˜è¿‡ç¨‹ä¸­çš„æ™®éæ¨¡å¼ã€‚ä»–æå‡ºäº†ç¬¬äº”çº§é¢†å¯¼ã€å…ˆäººåäº‹ã€åˆºçŒ¬ç†å¿µç­‰é‡è¦æ¦‚å¿µã€‚",
                theme: "ä¼ä¸šå“è¶Šçš„ç§˜è¯€ã€‚é€šè¿‡å¯¹æ¯”ç ”ç©¶ï¼Œæ­ç¤ºä¼˜ç§€å…¬å¸æˆä¸ºå“è¶Šå…¬å¸çš„å…³é”®å› ç´ å’Œè½¬å˜è§„å¾‹ã€‚",
                authorBg: "å‰å§†Â·æŸ¯æ—æ–¯ï¼Œæ–¯å¦ç¦å¤§å­¦å•†å­¦é™¢æ•™æˆï¼Œè‘—åç®¡ç†å­¦æ€æƒ³å®¶ï¼Œé•¿æœŸç ”ç©¶ä¼ä¸šå¯æŒç»­å‘å±•ã€‚"
            },
            {
                title: "åŸåˆ™",
                author: "[ç¾] ç‘Â·è¾¾åˆ©æ¬§",
                category: "ç®¡ç†å­¦",
                publisher: "ä¸­ä¿¡å‡ºç‰ˆç¤¾",
                year: "2018",
                rating: 8.4,
                summary: "ç‘Â·è¾¾åˆ©æ¬§è®¤ä¸ºï¼Œæˆ‘ä»¬å¯ä»¥åƒçœ‹å¾…æœºå™¨ä¸€æ ·çœ‹å¾…ç”Ÿæ´»ã€ç®¡ç†ç­‰é—®é¢˜ï¼Œæ‰¾åˆ°å…¶ä¸­çš„è§„å¾‹ï¼Œæ€»ç»“åŸåˆ™ï¼Œè¿™æ ·æ‰èƒ½æ›´å¥½åœ°å®ç°è‡ªå·±çš„äººç”Ÿç›®æ ‡ã€‚",
                theme: "ç³»ç»ŸåŒ–æ€ç»´ä¸å†³ç­–åŸåˆ™ã€‚åˆ†äº«ä½œè€…40å¹´çš„ç”Ÿæ´»å’Œå·¥ä½œåŸåˆ™ï¼Œæ•™å¯¼äººä»¬å¦‚ä½•å»ºç«‹è‡ªå·±çš„åŸåˆ™ä½“ç³»ã€‚",
                authorBg: "ç‘Â·è¾¾åˆ©æ¬§ï¼Œæ¡¥æ°´åŸºé‡‘åˆ›å§‹äººï¼Œè¢«ç§°ä¸º'æŠ•èµ„ç•Œçš„ä¹”å¸ƒæ–¯'ï¼Œç™½æ‰‹èµ·å®¶å»ºç«‹äº†ä¸–ç•Œæœ€å¤§å¯¹å†²åŸºé‡‘ã€‚"
            },
            {
                title: "é«˜æ•ˆèƒ½äººå£«çš„ä¸ƒä¸ªä¹ æƒ¯",
                author: "[ç¾] å²è’‚èŠ¬Â·æŸ¯ç»´",
                category: "ç®¡ç†å­¦",
                publisher: "ä¸­å›½é’å¹´å‡ºç‰ˆç¤¾",
                year: "2010",
                rating: 8.3,
                summary: "è¿™æœ¬ä¹¦å‡ ä¹è¦†ç›–æ‰€æœ‰ç¾å›½æˆå¹´äººéƒ½çŸ¥é“çš„ä¹ æƒ¯æ³•åˆ™ã€‚è¿™ä¸ƒä¸ªä¹ æƒ¯æ˜¯ï¼šç§¯æä¸»åŠ¨ã€ä»¥ç»ˆä¸ºå§‹ã€è¦äº‹ç¬¬ä¸€ã€åŒèµ¢æ€ç»´ã€çŸ¥å½¼è§£å·±ã€ç»Ÿåˆç»¼æ•ˆã€ä¸æ–­æ›´æ–°ã€‚",
                theme: "ä¸ªäººæ•ˆèƒ½æå‡çš„ç»å…¸ã€‚æå‡ºä¸ƒä¸ªä¹ æƒ¯å¸®åŠ©äººä»¬ä»ä¾èµ–åˆ°ç‹¬ç«‹å†åˆ°äº’èµ–ï¼Œå®ç°ä¸ªäººå’Œç»„ç»‡çš„æˆåŠŸã€‚",
                authorBg: "å²è’‚èŠ¬Â·æŸ¯ç»´ï¼ˆ1932-2012ï¼‰ï¼Œé¢†å¯¼åŠ›ä¸“å®¶ï¼Œè¢«ã€Šæ—¶ä»£ã€‹å‘¨åˆŠèª‰ä¸º'äººç±»æ½œèƒ½çš„å¯¼å¸ˆ'ã€‚"
            },
            {
                title: "é¢†å¯¼åŠ›21æ³•åˆ™",
                author: "[ç¾] çº¦ç¿°Â·éº¦å…‹æ–¯éŸ¦å°”",
                category: "ç®¡ç†å­¦",
                publisher: "ä¸­å›½é’å¹´å‡ºç‰ˆç¤¾",
                year: "2012",
                rating: 8.2,
                summary: "éº¦å…‹æ–¯éŸ¦å°”åšå£«é€šè¿‡å¯¹å†å²äººç‰©å’Œå½“ä»£é¢†å¯¼è€…çš„ç ”ç©¶ï¼Œæ€»ç»“å‡º21æ¡æ™®éé€‚ç”¨çš„é¢†å¯¼åŠ›æ³•åˆ™ã€‚è¿™äº›æ³•åˆ™é€‚ç”¨äºå„ä¸ªå±‚æ¬¡çš„é¢†å¯¼è€…ã€‚",
                theme: "é¢†å¯¼åŠ›çš„æ ¸å¿ƒæ³•åˆ™ã€‚ç³»ç»Ÿé˜è¿°é¢†å¯¼åŠ›çš„æœ¬è´¨å’Œæå‡æ–¹æ³•ï¼Œé€‚ç”¨äºå„è¡Œå„ä¸šçš„ç®¡ç†è€…ã€‚",
                authorBg: "çº¦ç¿°Â·éº¦å…‹æ–¯éŸ¦å°”ï¼Œå›½é™…çŸ¥åé¢†å¯¼åŠ›ä¸“å®¶ï¼Œè‘—æœ‰60å¤šéƒ¨é¢†å¯¼åŠ›è‘—ä½œï¼Œå½±å“åŠ›éå¸ƒå…¨çƒã€‚"
            },
            {
                title: "åˆ›æ–°è€…çš„çª˜å¢ƒ",
                author: "[ç¾] å…‹è±é¡¿Â·å…‹é‡Œæ–¯å¦æ£®",
                category: "ç®¡ç†å­¦",
                publisher: "ä¸­ä¿¡å‡ºç‰ˆç¤¾",
                year: "2014",
                rating: 8.5,
                summary: "æœ¬ä¹¦æå‡ºäº†é¢ è¦†æ€§åˆ›æ–°ç†è®ºï¼Œåˆ†æäº†ä¸ºä»€ä¹ˆå¤§å…¬å¸ä¼šåœ¨é¢ è¦†æ€§æŠ€æœ¯å‡ºç°æ—¶å¤±è´¥ã€‚ä½œè€…æŒ‡å‡ºï¼Œæ­£æ˜¯é‚£äº›è¢«å¹¿æ³›æ¥å—çš„ä¼˜ç§€ç®¡ç†åŸåˆ™ï¼Œæœ€ç»ˆå¯¼è‡´äº†å®ƒä»¬çš„å¤±è´¥ã€‚",
                theme: "ç ´åæ€§åˆ›æ–°çš„åŠ›é‡ã€‚æ­ç¤ºå¤§ä¼ä¸šå¤±è´¥çš„åŸå› ï¼Œæå‡ºåº”å¯¹é¢ è¦†æ€§åˆ›æ–°çš„ç­–ç•¥ï¼Œå½±å“äº†æ•´ä¸ªå•†ä¸šä¸–ç•Œã€‚",
                authorBg: "å…‹è±é¡¿Â·å…‹é‡Œæ–¯å¦æ£®ï¼ˆ1952-2020ï¼‰ï¼Œå“ˆä½›å•†å­¦é™¢æ•™æˆï¼Œé¢ è¦†æ€§åˆ›æ–°ç†è®ºæå‡ºè€…ï¼Œæœ€å…·å½±å“åŠ›çš„å•†ä¸šæ€æƒ³å®¶ä¹‹ä¸€ã€‚"
            },
            {
                title: "ç²¾ç›Šåˆ›ä¸š",
                author: "[ç¾] åŸƒé‡Œå…‹Â·è±æ–¯",
                category: "ç®¡ç†å­¦",
                publisher: "ä¸­ä¿¡å‡ºç‰ˆç¤¾",
                year: "2012",
                rating: 8.1,
                summary: "ã€Šç²¾ç›Šåˆ›ä¸šã€‹ä»‹ç»äº†ä¸€ç§æ–°çš„åˆ›ä¸šæ–¹æ³•è®ºï¼šé€šè¿‡å¿«é€Ÿè¿­ä»£ã€éªŒè¯å­¦ä¹ ã€å®¢æˆ·åé¦ˆç­‰æ–¹å¼ï¼Œä»¥æœ€å°çš„æˆæœ¬å’Œæœ€å¿«çš„é€Ÿåº¦æ‰¾åˆ°äº§å“å¸‚åœºåŒ¹é…ç‚¹ã€‚",
                theme: "æ–°åˆ›ä¼ä¸šçš„ç”Ÿå­˜æ³•åˆ™ã€‚æå‡ºæœ€å°å¯è¡Œäº§å“ã€å¿«é€Ÿè¿­ä»£ç­‰æ¦‚å¿µï¼Œæ”¹å˜äº†åˆ›ä¸šå’Œäº§å“å¼€å‘çš„æ–¹å¼ã€‚",
                authorBg: "åŸƒé‡Œå…‹Â·è±æ–¯ï¼Œç¡…è°·åˆ›ä¸šå®¶ï¼Œç²¾ç›Šåˆ›ä¸šè¿åŠ¨å‘èµ·äººï¼Œæ›¾å‚ä¸å¤šä¸ªåˆ›ä¸šé¡¹ç›®ï¼Œæ€»ç»“å®æˆ˜ç»éªŒã€‚"
            }
        ];

        // ç”¨æˆ·æ•°æ®
        let myBookList = JSON.parse(localStorage.getItem('myBookList') || '[]');
        let weeklyRecommendations = [];
        let currentFilter = 'all';

        // åˆå§‹åŒ–
        function init() {
            updateWeekInfo();
            generateWeeklyRecommendations();
            renderRecommendations();
        }

        // è·å–å‘¨æ•°
        function getWeekNumber(date) {
            const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));
            const dayNum = d.getUTCDay() || 7;
            d.setUTCDate(d.getUTCDate() + 4 - dayNum);
            const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
            return Math.ceil((((d - yearStart) / 86400000) + 1) / 7);
        }

        // æ›´æ–°å‘¨ä¿¡æ¯
        function updateWeekInfo() {
            const now = new Date();
            const weekNumber = getWeekNumber(now);
            document.getElementById('currentWeek').textContent = weekNumber;
            document.getElementById('currentDate').textContent = now.toLocaleDateString('zh-CN');
        }

        // ç”Ÿæˆæ¯å‘¨æ¨è
        function generateWeeklyRecommendations() {
            const lastUpdate = localStorage.getItem('lastRecommendUpdate');
            const currentWeek = getWeekNumber(new Date());
            const savedWeek = localStorage.getItem('recommendWeek');

            console.log('å½“å‰å‘¨æ•°:', currentWeek, 'ä¿å­˜çš„å‘¨æ•°:', savedWeek);
            console.log('ä¹¦åº“æ€»æ•°:', BOOK_DATABASE.length);

            // å¦‚æœæ˜¯æ–°çš„ä¸€å‘¨ï¼Œæˆ–è€…é¦–æ¬¡è®¿é—®ï¼Œç”Ÿæˆæ–°æ¨è
            if (!savedWeek || parseInt(savedWeek) !== currentWeek) {
                console.log('ç”Ÿæˆæ–°æ¨è...');
                // æŒ‰ç±»åˆ«åˆ†é…ä¹¦ç±ï¼šæ–‡å­¦2æœ¬ï¼Œå…¶ä»–å„1æœ¬
                const categories = {
                    'æ–‡å­¦å°è¯´': 2,
                    'å†å²ä¼ è®°': 1,
                    'å“²å­¦æ€æƒ³': 1,
                    'å¿ƒç†æˆé•¿': 1,
                    'ç®¡ç†å­¦': 1
                };

                weeklyRecommendations = [];

                Object.keys(categories).forEach(category => {
                    const booksInCategory = BOOK_DATABASE.filter(b => b.category === category);
                    const count = categories[category];

                    console.log(`ç±»åˆ« ${category}: æ‰¾åˆ° ${booksInCategory.length} æœ¬ä¹¦ï¼Œéœ€è¦ ${count} æœ¬`);

                    // éšæœºé€‰æ‹©
                    const shuffled = booksInCategory.sort(() => 0.5 - Math.random());
                    weeklyRecommendations.push(...shuffled.slice(0, count));
                });

                console.log('ç”Ÿæˆçš„æ¨èæ•°é‡:', weeklyRecommendations.length);
                console.log('æ¨èä¹¦ç±:', weeklyRecommendations.map(b => b.title));

                // ä¿å­˜æ¨è
                localStorage.setItem('weeklyRecommendations', JSON.stringify(weeklyRecommendations));
                localStorage.setItem('recommendWeek', currentWeek.toString());
            } else {
                // åŠ è½½å·²ä¿å­˜çš„æ¨è
                console.log('åŠ è½½å·²ä¿å­˜çš„æ¨è...');
                weeklyRecommendations = JSON.parse(localStorage.getItem('weeklyRecommendations') || '[]');
                console.log('åŠ è½½çš„æ¨èæ•°é‡:', weeklyRecommendations.length);
            }
        }

        // åˆ·æ–°æ¨è
        function refreshRecommendations() {
            if (confirm('ç¡®å®šè¦æ¢ä¸€æ‰¹æ¨èå—ï¼Ÿ')) {
                localStorage.removeItem('recommendWeek');
                generateWeeklyRecommendations();
                renderRecommendations();
            }
        }

        // æ¸²æŸ“æ¨èä¹¦ç±
        function renderRecommendations() {
            const container = document.getElementById('recommendBooks');
            let books = weeklyRecommendations;

            console.log('å¼€å§‹æ¸²æŸ“æ¨èï¼Œæ€»æ•°:', books.length);

            if (currentFilter !== 'all') {
                books = books.filter(b => b.category === currentFilter);
                console.log('ç­›é€‰åæ•°é‡:', books.length, 'ç­›é€‰æ¡ä»¶:', currentFilter);
            }

            if (books.length === 0) {
                console.log('æ²¡æœ‰ä¹¦ç±å¯æ˜¾ç¤º');
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">ğŸ“š</div>
                        <p>è¯¥ç±»åˆ«æš‚æ— æ¨è</p>
                    </div>
                `;
                return;
            }

            console.log('å‡†å¤‡æ¸²æŸ“', books.length, 'æœ¬ä¹¦');

            container.innerHTML = books.map((book, index) => {
                const isAdded = myBookList.some(b => b.title === book.title);
                const myBook = myBookList.find(b => b.title === book.title);

                return `
                    <div class="book-card">
                        <div class="book-header">
                            <span class="book-category">${book.category}</span>
                        </div>

                        <div class="book-title">${book.title}</div>
                        <div class="book-author">ä½œè€…ï¼š${book.author}</div>
                        <div class="book-meta">${book.publisher} Â· ${book.year}</div>

                        <div class="book-rating">
                            <span style="color: #666;">è±†ç“£è¯„åˆ†ï¼š</span>
                            <span class="douban-rating">â­ ${book.rating}</span>
                        </div>

                        <div class="book-theme">
                            <strong>ä¸»æ—¨ï¼š</strong>${book.theme}
                        </div>

                        <div class="book-summary">${book.summary}</div>

                        <div class="book-author-bg">
                            <strong>ä½œè€…èƒŒæ™¯ï¼š</strong>${book.authorBg}
                        </div>

                        ${isAdded ? `
                            <div class="reading-section">
                                <div class="progress-section">
                                    <div class="progress-label">
                                        <span>é˜…è¯»è¿›åº¦</span>
                                        <span>${myBook.progress || 0}%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: ${myBook.progress || 0}%"></div>
                                    </div>
                                    <input type="range" class="progress-input" min="0" max="100"
                                           value="${myBook.progress || 0}"
                                           onchange="updateProgress('${book.title}', this.value)">
                                </div>

                                <div class="rating-section">
                                    <div style="font-weight: 600; color: #333; margin-bottom: 5px;">æˆ‘çš„è¯„åˆ†</div>
                                    <div class="rating-stars">
                                        ${[1,2,3,4,5].map(i => `
                                            <span class="star ${i <= (myBook.rating || 0) ? 'filled' : ''}"
                                                  onclick="updateRating('${book.title}', ${i})">â˜…</span>
                                        `).join('')}
                                    </div>
                                </div>

                                <div class="review-section">
                                    <div style="font-weight: 600; color: #333; margin-bottom: 5px;">æˆ‘çš„è¯»åæ„Ÿ</div>
                                    <textarea class="review-textarea" placeholder="å†™ä¸‹ä½ çš„è¯»åæ„Ÿ..."
                                              onblur="updateReview('${book.title}', this.value)">${myBook.review || ''}</textarea>
                                </div>
                            </div>
                        ` : ''}

                        <div class="action-buttons">
                            ${isAdded ?
                                `<button class="btn btn-added">âœ“ å·²æ·»åŠ åˆ°ä¹¦å•</button>` :
                                `<button class="btn btn-add" onclick="addToMyList('${book.title.replace(/'/g, "\\'")}')">â• æ·»åŠ åˆ°æˆ‘çš„ä¹¦å•</button>`
                            }
                        </div>
                    </div>
                `;
            }).join('');
        }

        // æ·»åŠ åˆ°æˆ‘çš„ä¹¦å•
        function addToMyList(bookTitle) {
            const book = weeklyRecommendations.find(b => b.title === bookTitle);

            if (!book) {
                alert('æœªæ‰¾åˆ°è¯¥ä¹¦ç±');
                return;
            }

            if (myBookList.some(b => b.title === book.title)) {
                alert('è¯¥ä¹¦å·²åœ¨æ‚¨çš„ä¹¦å•ä¸­');
                return;
            }

            myBookList.push({
                ...book,
                addedDate: new Date().toLocaleDateString('zh-CN'),
                progress: 0,
                rating: 0,
                review: ''
            });

            saveMyList();
            renderRecommendations();
            alert('âœ… å·²æ·»åŠ åˆ°æˆ‘çš„ä¹¦å•ï¼');
        }

        // æ›´æ–°è¿›åº¦
        function updateProgress(title, progress) {
            const book = myBookList.find(b => b.title === title);
            if (book) {
                book.progress = parseInt(progress);
                saveMyList();
                renderRecommendations();
                renderMyList();
            }
        }

        // æ›´æ–°è¯„åˆ†
        function updateRating(title, rating) {
            const book = myBookList.find(b => b.title === title);
            if (book) {
                book.rating = rating;
                saveMyList();
                renderRecommendations();
                renderMyList();
            }
        }

        // æ›´æ–°è¯„è®º
        function updateReview(title, review) {
            const book = myBookList.find(b => b.title === title);
            if (book) {
                book.review = review;
                saveMyList();
            }
        }

        // ä¿å­˜ä¹¦å•
        function saveMyList() {
            localStorage.setItem('myBookList', JSON.stringify(myBookList));
        }

        // ç±»åˆ«ç­›é€‰
        function filterCategory(category) {
            currentFilter = category;

            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.textContent.includes(category) || (category === 'all' && btn.textContent === 'å…¨éƒ¨')) {
                    btn.classList.add('active');
                }
            });

            renderRecommendations();
        }

        // æ¸²æŸ“æˆ‘çš„ä¹¦å•
        function renderMyList() {
            const container = document.getElementById('myBooks');

            if (myBookList.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">ğŸ“–</div>
                        <p>è¿˜æ²¡æœ‰æ·»åŠ ä¹¦ç±ï¼Œå»æ¨èé¡µé¢çœ‹çœ‹å§ï¼</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = myBookList.map((book, index) => `
                <div class="book-card">
                    <div class="book-header">
                        <span class="book-category">${book.category}</span>
                    </div>

                    <div class="book-title">${book.title}</div>
                    <div class="book-author">ä½œè€…ï¼š${book.author}</div>
                    <div class="book-meta">æ·»åŠ æ—¥æœŸï¼š${book.addedDate}</div>

                    <div class="book-theme">
                        <strong>ä¸»æ—¨ï¼š</strong>${book.theme}
                    </div>

                    <div class="progress-section">
                        <div class="progress-label">
                            <span>é˜…è¯»è¿›åº¦</span>
                            <span>${book.progress}%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${book.progress}%"></div>
                        </div>
                        <input type="range" class="progress-input" min="0" max="100"
                               value="${book.progress}"
                               onchange="updateProgressInList(${index}, this.value)">
                    </div>

                    <div class="rating-section">
                        <div style="font-weight: 600; color: #333; margin-bottom: 5px;">æˆ‘çš„è¯„åˆ†</div>
                        <div class="rating-stars">
                            ${[1,2,3,4,5].map(i => `
                                <span class="star ${i <= book.rating ? 'filled' : ''}"
                                      onclick="updateRatingInList(${index}, ${i})">â˜…</span>
                            `).join('')}
                        </div>
                    </div>

                    <div class="review-section">
                        <div style="font-weight: 600; color: #333; margin-bottom: 5px;">æˆ‘çš„è¯»åæ„Ÿ</div>
                        <textarea class="review-textarea" placeholder="å†™ä¸‹ä½ çš„è¯»åæ„Ÿ..."
                                  onblur="updateReviewInList(${index}, this.value)">${book.review || ''}</textarea>
                    </div>

                    <div class="action-buttons">
                        <button class="btn" style="background: #dc3545; color: white;"
                                onclick="removeFromList(${index})">ğŸ—‘ï¸ ç§»é™¤</button>
                    </div>
                </div>
            `).join('');
        }

        function updateProgressInList(index, progress) {
            myBookList[index].progress = parseInt(progress);
            saveMyList();
            renderMyList();
        }

        function updateRatingInList(index, rating) {
            myBookList[index].rating = rating;
            saveMyList();
            renderMyList();
        }

        function updateReviewInList(index, review) {
            myBookList[index].review = review;
            saveMyList();
        }

        function removeFromList(index) {
            if (confirm('ç¡®å®šè¦ç§»é™¤è¿™æœ¬ä¹¦å—ï¼Ÿ')) {
                myBookList.splice(index, 1);
                saveMyList();
                renderMyList();
                renderRecommendations();
            }
        }

        // æ¸²æŸ“ç»Ÿè®¡
        function renderStats() {
            const container = document.getElementById('statsGrid');

            const totalBooks = myBookList.length;
            const finishedBooks = myBookList.filter(b => b.progress >= 100).length;
            const readingBooks = myBookList.filter(b => b.progress > 0 && b.progress < 100).length;
            const avgRating = myBookList.filter(b => b.rating > 0).length > 0
                ? (myBookList.reduce((sum, b) => sum + b.rating, 0) / myBookList.filter(b => b.rating > 0).length).toFixed(1)
                : 0;
            const reviewedBooks = myBookList.filter(b => b.review && b.review.trim()).length;

            // æŒ‰ç±»åˆ«ç»Ÿè®¡
            const categoryStats = {};
            myBookList.forEach(book => {
                categoryStats[book.category] = (categoryStats[book.category] || 0) + 1;
            });

            container.innerHTML = `
                <div class="stat-card">
                    <div class="stat-value">${totalBooks}</div>
                    <div class="stat-label">æˆ‘çš„ä¹¦å•æ€»æ•°</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">${finishedBooks}</div>
                    <div class="stat-label">å·²å®Œæˆé˜…è¯»</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">${readingBooks}</div>
                    <div class="stat-label">é˜…è¯»ä¸­</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">${avgRating || 'æœªè¯„'}</div>
                    <div class="stat-label">å¹³å‡è¯„åˆ†</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">${reviewedBooks}</div>
                    <div class="stat-label">å·²å†™è¯»åæ„Ÿ</div>
                </div>
            `;

            // æ·»åŠ ç±»åˆ«ç»Ÿè®¡
            if (Object.keys(categoryStats).length > 0) {
                container.innerHTML += '<h3 style="grid-column: 1/-1; margin: 20px 0 0; color: #333;">é˜…è¯»ç±»åˆ«åˆ†å¸ƒ</h3>';
                Object.entries(categoryStats).forEach(([category, count]) => {
                    container.innerHTML += `
                        <div class="stat-card">
                            <div class="stat-value">${count}</div>
                            <div class="stat-label">${category}</div>
                        </div>
                    `;
                });
            }
        }

        // å¯¼å‡ºæ•°æ®
        function exportData() {
            const data = {
                exportDate: new Date().toLocaleDateString('zh-CN'),
                myBookList: myBookList,
                weeklyRecommendations: weeklyRecommendations
            };

            const dataStr = JSON.stringify(data, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `æˆ‘çš„é˜…è¯»æ•°æ®_${new Date().toLocaleDateString('zh-CN')}.json`;
            link.click();
            URL.revokeObjectURL(url);
        }

        // åˆ‡æ¢æ ‡ç­¾é¡µ
        function switchTab(tabName) {
            // æ›´æ–°æ ‡ç­¾æŒ‰é’®çŠ¶æ€
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach((tab, index) => {
                tab.classList.remove('active');
                const tabNames = ['recommend', 'mylist', 'stats'];
                if (tabNames[index] === tabName) {
                    tab.classList.add('active');
                }
            });

            // æ›´æ–°å†…å®¹æ˜¾ç¤º
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            document.getElementById('tab-' + tabName).classList.add('active');

            // æ¸²æŸ“å¯¹åº”å†…å®¹
            if (tabName === 'mylist') {
                renderMyList();
            } else if (tabName === 'stats') {
                renderStats();
            }
        }

        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        window.onload = init;
    </script>
</body>
</html>